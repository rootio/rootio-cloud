{% extends "configuration/layout.html" %}

{% block js_btm %}
{{ super() }}
{% endblock %}
{% block js_top %}
<link rel="stylesheet" href="../../static/css/audioplayer.css" />
	<style>

	#wrapper { max-width: 100px; }
	h1 { text-align: center; margin-bottom: 50px; color: #fff; font-family: 'Open Sans'; }
</style>
{% endblock %}

{% block body %}
<div class="container">
    <h2>{{ _('Configuration') }}</h2>
    <div class="pull-left">
        <h3>{{ _('IVR Menus') }}</h3>
    </div>
    <div class="pull-right">
        <a class="btn btn-success" href="{{ url_for('configuration.voice_prompt') }}"><strong>{{ _('Configure') }}</strong></a>
    </div>
    <table id="offline_datatable" class='table table-bordered table-hover'>
        <thead>
        <tr style="font-size: .8em; font-weight: 200;">
            <th>{{ _('Station') }}</th>
            <th>{{ _('You are now on air') }}</th>
            <th>{{ _('Your call will end in { seconds } seconds') }}</th>
            <th>{{ _('You have a caller on the line. To connect to the station, press one, to cancel, press two') }}</th>
            <th>{{ _('You are scheduled to host a talk show at this time. If you are ready, press one, if not ready, press two') }}</th>
            <th>{{ _('Please wait while we connect you to the radio station') }}</th>
            <th>{{ _('Your call will be terminated and you will be called when someone calls into the station') }}</th>
            <th>{{ _('All incoming calls will be rejected') }}</th>
            <th>{{ _('All incoming calls will be automatically answered') }}</th>
            <th>{{ _('All incoming calls will be queued for call back') }}</th>
            <th>{{ _('You will be called back in 5 minutes') }}</th>
            <th>{{ _('Please enter the number to call and press the # key to dial') }}</th>
            <th>{{ _('You are calling { number }') }}</th>
            <th>{{ _('Call from community caller { caller number } was queued') }}</th>
            <th>{{ _('The call to { number } failed. Please pres the hash key to try again') }}</th>
            <th>{{ _('Thank you for wanting to take part in this program. We will call you back shortly') }}</th>
            <th>{{ _('Please wait while we connect you to the host of this program') }}</th>
        </tr>
        </thead>
        <tbody>
        {% for voice_prompt in voice_prompts %}
        <tr>
            <td>{{ voice_prompt.station.name }}</td>
        {% if voice_prompt.use_tts %}

            <td>{{ voice_prompt.on_air_txt }}</td>
            <td>{{ voice_prompt.call_end_txt }}</td>
            <td>{{ voice_prompt.incoming_call_txt }}</td>
            <td>{{ voice_prompt.host_welcome_txt }}</td>
            <td>{{ voice_prompt.host_wait_txt }}</td>
            <td>{{ voice_prompt.wake_mode_activation_txt }}</td>
            <td>{{ voice_prompt.incoming_reject_activation_txt }}</td>
            <td>{{ voice_prompt.incoming_answer_activation_txt }}</td>
            <td>{{ voice_prompt.incoming_queue_activation_txt }}</td>
            <td>{{ voice_prompt.take_break_txt }}</td>
            <td>{{ voice_prompt.input_number_txt }}</td>
            <td>{{ voice_prompt.calling_number_txt }}</td>
            <td>{{ voice_prompt.call_queued_txt }}</td>
            <td>{{ voice_prompt.call_failed_txt }}</td>
            <td>{{ voice_prompt.call_back_hangup_txt }}</td>
            <td>{{ voice_prompt.call_back_wait_txt }}</td>

        {% else %}
            <td>
              <div id="wrapper" title="{{voice_prompt.on_air_txt}}">
                <audio name="audio_player" preload="metadata" controls="false" >
                  <source src="../../audio-content/{{voice_prompt.on_air}}" type="audio/mpeg">
                  <source src="../../audio-content/{{voice_prompt.on_air}}" type="audio/ogg">
                  <source src="../../audio-content/{{voice_prompt.on_air}}" type="audio/wav">
                </audio>
              </div>
            </td>
            <td>
              <div id="wrapper" title="{{voice_prompt.call_end_txt}}">
                <audio name="audio_player" preload="metadata" controls="false" >
                  <source src="../../audio-content/{{voice_prompt.call_end}}" type="audio/mpeg">
                  <source src="../../audio-content/{{voice_prompt.call_end}}" type="audio/ogg">
                  <source src="../../audio-content/{{voice_prompt.call_end}}" type="audio/wav">
                </audio>
              </div>
            </td>
            <td>
              <div id="wrapper" title="{{voice_prompt.incoming_call_txt}}">
                <audio name="audio_player" preload="metadata" controls="false" >
                  <source src="../../audio-content/{{voice_prompt.incoming_call}}" type="audio/mpeg">
                  <source src="../../audio-content/{{voice_prompt.incoming_call}}" type="audio/ogg">
                  <source src="../../audio-content/{{voice_prompt.incoming_call}}" type="audio/wav">
                </audio>
              </div>
            </td>
            <td>
              <div id="wrapper" title="{{voice_prompt.host_welcome_txt}}">
                <audio name="audio_player" preload="metadata" controls="false" >
                  <source src="../../audio-content/{{voice_prompt.host_welcome}}" type="audio/mpeg">
                  <source src="../../audio-content/{{voice_prompt.host_welcome}}" type="audio/ogg">
                  <source src="../../audio-content/{{voice_prompt.host_welcome}}" type="audio/wav">
                </audio>
              </div>
            </td>
            <td>
              <div id="wrapper" title="{{voice_prompt.host_wait_txt}}">
                <audio name="audio_player" preload="metadata" controls="false" >
                  <source src="../../audio-content/{{voice_prompt.host_wait}}" type="audio/mpeg">
                  <source src="../../audio-content/{{voice_prompt.host_wait}}" type="audio/ogg">
                  <source src="../../audio-content/{{voice_prompt.host_wait}}" type="audio/wav">
                </audio>
              </div>
            </td>
            <td>
              <div id="wrapper" title="{{voice_prompt.wake_mode_txt}}">
                <audio name="audio_player" preload="metadata" controls="false" >
                  <source src="../../audio-content/{{voice_prompt.wake_mode}}" type="audio/mpeg">
                  <source src="../../audio-content/{{voice_prompt.wake_mode}}" type="audio/ogg">
                  <source src="../../audio-content/{{voice_prompt.wake_mode}}" type="audio/wav">
                </audio>
              </div>
            </td>
            <td>
              <div id="wrapper" title="{{voice_prompt.incoming_reject_txt}}">
                <audio name="audio_player" preload="metadata" controls="false" >
                  <source src="../../audio-content/{{voice_prompt.incoming_reject}}" type="audio/mpeg">
                  <source src="../../audio-content/{{voice_prompt.incoming_reject}}" type="audio/ogg">
                  <source src="../../audio-content/{{voice_prompt.incoming_reject}}" type="audio/wav">
                </audio>
              </div>
            </td>
            <td>
              <div id="wrapper" title="{{voice_prompt.incoming_answer_txt}}">
                <audio name="audio_player" preload="metadata" controls="false" >
                  <source src="../../audio-content/{{voice_prompt.incoming_answer}}" type="audio/mpeg">
                  <source src="../../audio-content/{{voice_prompt.incoming_answer}}" type="audio/ogg">
                  <source src="../../audio-content/{{voice_prompt.incoming_answer}}" type="audio/wav">
                </audio>
              </div>
            </td>
            <td>
              <div id="wrapper" title="{{voice_prompt.incoming_queue_txt}}">
                <audio name="audio_player" preload="metadata" controls="false" >
                  <source src="../../audio-content/{{voice_prompt.incoming_queue}}" type="audio/mpeg">
                  <source src="../../audio-content/{{voice_prompt.incoming_queue}}" type="audio/ogg">
                  <source src="../../audio-content/{{voice_prompt.incoming_queue}}" type="audio/wav">
                </audio>
              </div>
            </td>
            <td>
              <div id="wrapper" title="{{voice_prompt.take_break_txt}}">
                <audio name="audio_player" preload="metadata" controls="false" >
                  <source src="../../audio-content/{{voice_prompt.take_break}}" type="audio/mpeg">
                  <source src="../../audio-content/{{voice_prompt.take_break}}" type="audio/ogg">
                  <source src="../../audio-content/{{voice_prompt.take_break}}" type="audio/wav">
                </audio>
              </div>
            </td>
            <td>
              <div id="wrapper" title="{{voice_prompt.input_number_txt}}">
                <audio name="audio_player" preload="metadata" controls="false" >
                  <source src="../../audio-content/{{voice_prompt.input_number}}" type="audio/mpeg">
                  <source src="../../audio-content/{{voice_prompt.input_number}}" type="audio/ogg">
                  <source src="../../audio-content/{{voice_prompt.input_number}}" type="audio/wav">
                </audio>
              </div>
            </td>
            <td>
              <div id="wrapper" title="{{voice_prompt.calling_number_txt}}">
                <audio name="audio_player" preload="metadata" controls="false" >
                  <source src="../../audio-content/{{voice_prompt.calling_number}}" type="audio/mpeg">
                  <source src="../../audio-content/{{voice_prompt.calling_number}}" type="audio/ogg">
                  <source src="../../audio-content/{{voice_prompt.calling_number}}" type="audio/wav">
                </audio>
              </div>
            </td>
            <td>
              <div id="wrapper" title="{{voice_prompt.call_queued_txt}}">
                <audio name="audio_player" preload="metadata" controls="false" >
                  <source src="../../audio-content/{{voice_prompt.call_queued}}" type="audio/mpeg">
                  <source src="../../audio-content/{{voice_prompt.call_queued}}" type="audio/ogg">
                  <source src="../../audio-content/{{voice_prompt.call_queued}}" type="audio/wav">
                </audio>
              </div>
            </td>
            <td>
              <div id="wrapper" title="{{voice_prompt.call_failed_txt}}">
                <audio name="audio_player" preload="metadata" controls="false" >
                  <source src="../../audio-content/{{voice_prompt.call_failed}}" type="audio/mpeg">
                  <source src="../../audio-content/{{voice_prompt.call_failed}}" type="audio/ogg">
                  <source src="../../audio-content/{{voice_prompt.call_failed}}" type="audio/wav">
                </audio>
              </div>
            </td>
            <td>
              <div id="wrapper" title="{{voice_prompt.call_back_txt}}">
                <audio name="audio_player" preload="metadata" controls="false" >
                  <source src="../../audio-content/{{voice_prompt.call_back}}" type="audio/mpeg">
                  <source src="../../audio-content/{{voice_prompt.call_back}}" type="audio/ogg">
                  <source src="../../audio-content/{{voice_prompt.call_back}}" type="audio/wav">
                </audio>
              </div>
            </td>
            <td>
              <div id="wrapper" title="{{voice_prompt.call_back_txt}}">
                <audio name="audio_player" preload="metadata" controls="false" >
                  <source src="../../audio-content/{{voice_prompt.call_back}}" type="audio/mpeg">
                  <source src="../../audio-content/{{voice_prompt.call_back}}" type="audio/ogg">
                  <source src="../../audio-content/{{voice_prompt.call_back}}" type="audio/wav">
                </audio>
              </div>
            </td>

        {% endif %}
        </tr>
        {% endfor %}
        </tbody>
    </table>
    <script src="../../static/js/audioplayer.js"></script>
    <script>


			$('#offline_datatable').on( 'draw.dt', function () {

                $('audio').audioPlayer();
                $('audio').remove('audio');

             } );

    </script>
</div>
{% endblock %}
